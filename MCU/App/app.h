/*******************************************************************************
 *
 * Project: BKWAR
 * 
 ******************************************************************************/

/*******************************************************************************
 *
 *	Module			: app.h
 *  Tool		  	: KeilC ARM 4.22a
 *	Chip		  	: STM32F103C8
 * 	History			: Begin at 16-Dec-13
 *	Description	    : Appilcation layer 
 *				
 *	Author			: Dang Anh Tung			
 *				
 ******************************************************************************/

#ifndef __APP_H
#define __APP_H

 
 /*******************************************************************************
 * 							        IMPORT
 ******************************************************************************/
#include "mem.h"
#include "war.h"
#include "com.h"

/********************************************************************************
* 							        TYPEDEF
********************************************************************************/

/********************************************************************************
* 							        DEFINE
********************************************************************************/
#define APP_IMG_BUF_SIZE    (uint32_t)5100
#define APP_SPT_BUF_SIZE    512

/********************************************************************************
* 					        GLOBAL VARIABLES
********************************************************************************/

extern uint8_t APP_SptBuf[APP_SPT_BUF_SIZE];
extern uint8_t APP_ImgBuf[APP_IMG_BUF_SIZE];


/********************************************************************************
* 					        PRIVATE VARIABLES
********************************************************************************/

/********************************************************************************
* 					        PUBLIC FUNCTIONS
********************************************************************************/
void APP_Init(void);
BOOL APP_Process(SYS_STATE * ss, BOOL *reloadMem);
BOOL APP_RunScript(SPT spt);

void APP_ConfigMode(BOOL *reloadMem);
void APP_BKPMode(void);
void APP_RunMode(void);
void APP_InteractMode(void);

#endif /* __APP_H */
